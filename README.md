#app.js
    全局变量： $rootScope.debug （调试）
                $rootScope.co2CheckModel = "检测模式";/检测模式。在设置里面调整
                $rootScope.deviceMsg    显示在模板里的消息
    全局函数Fn
                $rootScope.Pad_user    搬包子代码的附带品
                $rootScope.availableTime = true;    登陆是否过期
                $rootScope.islogin = false;     有没有登陆
                $rootScope.userName = "admin";  //初始化
                $rootScope.passWord = "123";  //初始化
                Window.rootPath  : 全局路径


#Controller：
        loginController ： 一进入会初始化系统设置
                            登陆后会执行：登陆设定为是，保存登陆密码账号，登陆时间 loginTime保存在数据库

        SettingController ：每次保存时会保存到数据库，每次退出是会从数据库拿值初始化，          没有保存退出则是不会保存的。
                            每次保存会刷新一次
                            初始化和登陆控制器一样拿数据
        
        /*参考图看参考图.svg*/
        checkController ：这里依赖了devices.js bluethooth.js checkQueue.js  
                            checkQueue和devices 都依赖了 Bluetooth
                            Devices 还依赖了blueTooth
                            其中， checkQueue是一个队列机制，保证了多次测试是有序的
                            Bluetooth这里配置了蓝牙消息的对照表
                            Devices是回调函数，设备打开存储所用的。
                            Checkcontroller是集成了蓝牙回调方法，是否进行下一次检测，是否  保存的判断的业务逻辑块。

                            1.数据保存方式：键值保存

                                    检测之后会有一个通用数据存储区——devicesStatus ：缓存本次结果

                                    首先：保存时会拿到人名，还有数据列表

                                            李三_co2  ：这里保存的全部是时间戳#5622…22#255…25#89…14#
                                            李三_co2_5622…22 ： 这里保存的便是数据串
                                            李三_co2_5622…22 ： 这里保存的便是数据串


                            保存时候会干两件事：拿到人名，仪器名

                            看看这个人，有没有用过这个仪器测试过，有的话我们就不需要新增一个索引来了，而  是将本次的时间戳录入已存在的索引之中，然后新建一个李三_co2_5622…22来保存数 据
                            如果没有索引存在，那么将会新建一个索引。


        CheckreportController ：报告类型选择，报告数据筛选，如果是co2，还将会有添加报告的功能
                            首先会选择报告的类型。报告的类型会缓存到theperson的工厂里面，然后会有一个趋势报告/单次报告的选择。默认是单次报告，会有一个默认的起始时间和结束时间。每次时间选择的时候都会执行checktime的函数，主要是检查时间是否合法，以及能不能进入下一次页面。
                            如果是二氧化碳，那么将会有一个添加额外的数据的按钮，                
                            进入下一个页面之前就会生成reportlist报告列表。Para（参数)列表，二氧化碳还会有一个添加参数的保存。如果判断到列表是空的话就不会跳转到下一个页面

        Checkreportdetailcontroller ： 

                            这里是数据集合的整理和报表，图表的生成。首先一进入页面就会从theperson工厂里面拿到checkreportcontroller存储的数据。数据为reportlist para co2add。然后初步处理。初步处理为gettimelist函数。Getdatalist函数。一个是数据列表获取，另一个是时间列表的获取。这些是在图表展示里面用到的。
                            因为有的是需要用到写死的参考数据。所以要获取reference


        Checksetcontroller ： 和settingcontroller基本雷同。只是多了一个二氧化碳较零的功能（翁老师还没有给）需要模板展示而已。


#filter
        math.js: 定义的是过滤最大值最小值，平均值的过滤器



#services
        
        android.js ：是生哥封装好的模拟安卓接口的函数，方便在浏览器上调试


        bluetooth.js：是包子封装好的蓝牙对照表函数


        checkQueue.js：是包子封装的队列检查机制


        config.js  : 是配置仪器参数的文件


        theperson.js ： 是缓存人的信息，报告列表，在扫描二维码的时候，加密，解码的服务


        devices.js ： 是一个设备调用的服务。可以调用底层的接口。会根据真实/模拟的消息来执行相应的操作。



#tool

        jq库

        base64加密


————————————————————————————————————————————————————————————————————-
————————————————————————————————————————————————————————————————————-










2016.7.21

今日工作流程：
       /////// 1. 完成二氧化碳较零的制作。
       //////  2.完成二氧化碳检测页面的修复
       3.昨日测试的bug修复
            
        ////1.关于扫描跳转的问题，人的信息不全

            2. 仪器调用挂掉的问题。

            3. getMsg：undefined

            4. can not read property match of undefined

            5. unexpected token illegal

            //////////////6. 弹出框的问题

            //////////7. 不能同时调用两个仪器的问题（ unable ）            

            8. 在数据表中有的显示不了底部的说明
    
    

    新的bug

        1. 如果二氧化碳长期没有连接，退出后将会调不起来
 
 serverResta


 restartService6




2016.7.21
  
  需要解决二氧化碳的校正问题
  
  二氧化碳的检测模式
  

  1. 在调用一个仪器的时候，如果没有等到他返回用户退出，而去开启其他服务，那么之后再也调用不了其他的仪器，只能重启仪器

  2. 如果在检测的时候强制关闭app，那么kf服务还是会在后台运行，下次打开app的时候还是显示kf服务在不停发送消息过来。即自动继续上一次的检测。而且不能进行别的检测。
     要解决只能在页面添加一个强制退出仪器的按钮。但是强制退出仪器后下一次调用可能会调不起来，而需要重启服务。
  



2016.7.11
   
   1.完成手机适配端的样式调整（修改大部分在css中完成，有几个部分需要调整：
      分别是checkreport的底部按钮，
      添加病人时候的二维码展开时隐藏头像。 
	    密码修改的时候文字提示框移动了位置
      一两个随手添加的类）
   2.修复若干bug。
          a. 添加病人颜色不能用的中颜色的变化，
          日期时间的输入变成真正的日期格式。
          修改了选择检测模式不能转化隐藏的问题。
          添加了登陆定时失效的逻辑，半个小时（逻辑需要完善）



2016.7.10

   1.修复报告中显示状态的错误。

   2.完成二氧化碳实时监测曲线的布局。具体操作要等翁老师的接口。

   3.暂时处理报告页面跳转不到的问题。（有错误，但是具体位置未知，暂时可用）



   待完成
   1.仪器状态总是跳转到血糖仪，错误地点未知。

   2.实时曲线和数据的获取，未知如何完成。

   3.黄老师提到的界面的优化，未动手。

   4.关于肺功能好节数等奇怪参数未解决。
   
   5.  
















# 疑问:
1. index.html的模板不能独立出来?

# 以下文件借用了周翰的代码:
1. js/services/manage_index_service.js
2. template/check.html
3. css/main.css
4. index/html中的modal
5. app.js中的Fn
6. js/services/config.js

# 目前存在问题
1. 登录之后才能编辑系统设置         //解决
2. 患者信息页面编辑后按保存没有反应
3. 患者信息新增页面能编辑但是不能保存




